/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _hyperapp = __webpack_require__(1);\n\n/*\n * Board visualization\n * Array of cells, 3x3 = 9\n *\n * First row:   [0, 1, 2]\n * Second row:  [3, 4, 5]\n * Final row:   [6, 7, 8]\n *\n */\n\nvar state = { currentPlayer: 'x',\n  board: ['', '', '', '', '', '', '', '', ''],\n  isDone: false,\n  winner: null\n};\n\nvar lines = [\n// rows\n[0, 1, 2], [3, 4, 5], [6, 7, 8],\n\n// cols\n[0, 3, 6], [1, 4, 7], [2, 5, 8],\n\n// diagonals\n[0, 4, 8], [2, 4, 6]];\n\nvar rowColToIndex = function rowColToIndex(row, col) {\n  return row * 3 + col;\n};\n\nvar completesLine = function completesLine(board, player) {\n  return lines.some(function (lineIndexes) {\n    return lineIndexes.every(function (idx) {\n      return board[idx] === player;\n    });\n  });\n};\n\nvar actions = {\n  place: function place(_ref) {\n    var row = _ref.row,\n        col = _ref.col;\n    return function (state) {\n      var isAxisValid = function isAxisValid(i) {\n        return i >= 0 && i < 3;\n      };\n\n      if (!isAxisValid(row) || !isAxisValid(col)) return state;\n\n      var index = rowColToIndex(row, col);\n\n      var board = state.board.slice(0, index).concat(state.currentPlayer).concat(state.board.slice(index + 1));\n\n      var isBoardFull = nextBoard.every(function (c) {\n        return c !== '';\n      });\n      var isWinner = completesLine(nextBoard, state.currentPlayer);\n      var isDone = isWinner || isBoardFull;\n\n      return {\n        currentPlayer: state.currentPlayer === 'x' ? 'o' : 'x',\n        board: board,\n        isDone: isDone,\n        winner: isWinner ? state.currentPlayer : null\n      };\n    };\n  },\n  reset: function reset() {\n    return function () {\n      return state;\n    };\n  }\n};\n\nvar view = function view(state, actions) {\n  return (0, _hyperapp.h)(\n    'div',\n    null,\n    (0, _hyperapp.h)(\n      'h1',\n      null,\n      'Tic Tac Toe \\xA0',\n      (0, _hyperapp.h)(\n        'button',\n        { onclick: function onclick() {\n            return actions.reset();\n          } },\n        'New Game'\n      )\n    ),\n    (0, _hyperapp.h)(\n      'h3',\n      null,\n      !state.isDone && (0, _hyperapp.h)(\n        'div',\n        null,\n        'Current player: ',\n        state.currentPlayer.toUpperCase()\n      ),\n      state.isDone && state.winner && (0, _hyperapp.h)(\n        'div',\n        null,\n        state.winner,\n        ' won!'\n      ),\n      state.isDone && !state.winner && (0, _hyperapp.h)(\n        'div',\n        null,\n        'Cats game!'\n      )\n    ),\n    (0, _hyperapp.h)(\n      'div',\n      null,\n      [0, 1, 2].map(function (row) {\n        return (0, _hyperapp.h)(\n          'div',\n          { className: 'row' },\n          [0, 1, 2].map(function (col) {\n            var value = state.board[rowColToIndex(row, col)];\n            var canClick = value === '' && !state.isDone;\n            var onClick = canClick ? function () {\n              return actions.place({ row: row, col: col });\n            } : function () {};\n\n            return (0, _hyperapp.h)(\n              'div',\n              {\n                className: 'cell',\n                onclick: onClick,\n                style: { cursor: canClick ? 'pointer' : 'default' }\n              },\n              value\n            );\n          })\n        );\n      })\n    )\n  );\n};\n\nvar ticTacToe = (0, _hyperapp.app)(state, actions, view, document.getElementById('root'));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz84NzQ5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9oeXBlcmFwcCA9IHJlcXVpcmUoJ2h5cGVyYXBwJyk7XG5cbi8qXG4gKiBCb2FyZCB2aXN1YWxpemF0aW9uXG4gKiBBcnJheSBvZiBjZWxscywgM3gzID0gOVxuICpcbiAqIEZpcnN0IHJvdzogICBbMCwgMSwgMl1cbiAqIFNlY29uZCByb3c6ICBbMywgNCwgNV1cbiAqIEZpbmFsIHJvdzogICBbNiwgNywgOF1cbiAqXG4gKi9cblxudmFyIHN0YXRlID0geyBjdXJyZW50UGxheWVyOiAneCcsXG4gIGJvYXJkOiBbJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJ10sXG4gIGlzRG9uZTogZmFsc2UsXG4gIHdpbm5lcjogbnVsbFxufTtcblxudmFyIGxpbmVzID0gW1xuLy8gcm93c1xuWzAsIDEsIDJdLCBbMywgNCwgNV0sIFs2LCA3LCA4XSxcblxuLy8gY29sc1xuWzAsIDMsIDZdLCBbMSwgNCwgN10sIFsyLCA1LCA4XSxcblxuLy8gZGlhZ29uYWxzXG5bMCwgNCwgOF0sIFsyLCA0LCA2XV07XG5cbnZhciByb3dDb2xUb0luZGV4ID0gZnVuY3Rpb24gcm93Q29sVG9JbmRleChyb3csIGNvbCkge1xuICByZXR1cm4gcm93ICogMyArIGNvbDtcbn07XG5cbnZhciBjb21wbGV0ZXNMaW5lID0gZnVuY3Rpb24gY29tcGxldGVzTGluZShib2FyZCwgcGxheWVyKSB7XG4gIHJldHVybiBsaW5lcy5zb21lKGZ1bmN0aW9uIChsaW5lSW5kZXhlcykge1xuICAgIHJldHVybiBsaW5lSW5kZXhlcy5ldmVyeShmdW5jdGlvbiAoaWR4KSB7XG4gICAgICByZXR1cm4gYm9hcmRbaWR4XSA9PT0gcGxheWVyO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbnZhciBhY3Rpb25zID0ge1xuICBwbGFjZTogZnVuY3Rpb24gcGxhY2UoX3JlZikge1xuICAgIHZhciByb3cgPSBfcmVmLnJvdyxcbiAgICAgICAgY29sID0gX3JlZi5jb2w7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgdmFyIGlzQXhpc1ZhbGlkID0gZnVuY3Rpb24gaXNBeGlzVmFsaWQoaSkge1xuICAgICAgICByZXR1cm4gaSA+PSAwICYmIGkgPCAzO1xuICAgICAgfTtcblxuICAgICAgaWYgKCFpc0F4aXNWYWxpZChyb3cpIHx8ICFpc0F4aXNWYWxpZChjb2wpKSByZXR1cm4gc3RhdGU7XG5cbiAgICAgIHZhciBpbmRleCA9IHJvd0NvbFRvSW5kZXgocm93LCBjb2wpO1xuXG4gICAgICB2YXIgYm9hcmQgPSBzdGF0ZS5ib2FyZC5zbGljZSgwLCBpbmRleCkuY29uY2F0KHN0YXRlLmN1cnJlbnRQbGF5ZXIpLmNvbmNhdChzdGF0ZS5ib2FyZC5zbGljZShpbmRleCArIDEpKTtcblxuICAgICAgdmFyIGlzQm9hcmRGdWxsID0gbmV4dEJvYXJkLmV2ZXJ5KGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIHJldHVybiBjICE9PSAnJztcbiAgICAgIH0pO1xuICAgICAgdmFyIGlzV2lubmVyID0gY29tcGxldGVzTGluZShuZXh0Qm9hcmQsIHN0YXRlLmN1cnJlbnRQbGF5ZXIpO1xuICAgICAgdmFyIGlzRG9uZSA9IGlzV2lubmVyIHx8IGlzQm9hcmRGdWxsO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjdXJyZW50UGxheWVyOiBzdGF0ZS5jdXJyZW50UGxheWVyID09PSAneCcgPyAnbycgOiAneCcsXG4gICAgICAgIGJvYXJkOiBib2FyZCxcbiAgICAgICAgaXNEb25lOiBpc0RvbmUsXG4gICAgICAgIHdpbm5lcjogaXNXaW5uZXIgPyBzdGF0ZS5jdXJyZW50UGxheWVyIDogbnVsbFxuICAgICAgfTtcbiAgICB9O1xuICB9LFxuICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuICB9XG59O1xuXG52YXIgdmlldyA9IGZ1bmN0aW9uIHZpZXcoc3RhdGUsIGFjdGlvbnMpIHtcbiAgcmV0dXJuICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgJ2RpdicsXG4gICAgbnVsbCxcbiAgICAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgJ2gxJyxcbiAgICAgIG51bGwsXG4gICAgICAnVGljIFRhYyBUb2UgXFx4QTAnLFxuICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgIHsgb25jbGljazogZnVuY3Rpb24gb25jbGljaygpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb25zLnJlc2V0KCk7XG4gICAgICAgICAgfSB9LFxuICAgICAgICAnTmV3IEdhbWUnXG4gICAgICApXG4gICAgKSxcbiAgICAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgJ2gzJyxcbiAgICAgIG51bGwsXG4gICAgICAhc3RhdGUuaXNEb25lICYmICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBudWxsLFxuICAgICAgICAnQ3VycmVudCBwbGF5ZXI6ICcsXG4gICAgICAgIHN0YXRlLmN1cnJlbnRQbGF5ZXIudG9VcHBlckNhc2UoKVxuICAgICAgKSxcbiAgICAgIHN0YXRlLmlzRG9uZSAmJiBzdGF0ZS53aW5uZXIgJiYgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHN0YXRlLndpbm5lcixcbiAgICAgICAgJyB3b24hJ1xuICAgICAgKSxcbiAgICAgIHN0YXRlLmlzRG9uZSAmJiAhc3RhdGUud2lubmVyICYmICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBudWxsLFxuICAgICAgICAnQ2F0cyBnYW1lISdcbiAgICAgIClcbiAgICApLFxuICAgICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAnZGl2JyxcbiAgICAgIG51bGwsXG4gICAgICBbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdyb3cnIH0sXG4gICAgICAgICAgWzAsIDEsIDJdLm1hcChmdW5jdGlvbiAoY29sKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzdGF0ZS5ib2FyZFtyb3dDb2xUb0luZGV4KHJvdywgY29sKV07XG4gICAgICAgICAgICB2YXIgY2FuQ2xpY2sgPSB2YWx1ZSA9PT0gJycgJiYgIXN0YXRlLmlzRG9uZTtcbiAgICAgICAgICAgIHZhciBvbkNsaWNrID0gY2FuQ2xpY2sgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zLnBsYWNlKHsgcm93OiByb3csIGNvbDogY29sIH0pO1xuICAgICAgICAgICAgfSA6IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgICAgICAgICByZXR1cm4gKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdjZWxsJyxcbiAgICAgICAgICAgICAgICBvbmNsaWNrOiBvbkNsaWNrLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7IGN1cnNvcjogY2FuQ2xpY2sgPyAncG9pbnRlcicgOiAnZGVmYXVsdCcgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICApXG4gICk7XG59O1xuXG52YXIgdGljVGFjVG9lID0gKDAsIF9oeXBlcmFwcC5hcHApKHN0YXRlLCBhY3Rpb25zLCB2aWV3LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = h;\n/* harmony export (immutable) */ __webpack_exports__[\"app\"] = app;\nfunction h(name, props) {\n  var node\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    if (Array.isArray((node = rest.pop()))) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(props || {}, children)\n    : {\n        name: name,\n        props: props || {},\n        children: children\n      }\n}\n\nfunction app(state, actions, view, container) {\n  var renderLock\n  var invokeLaterStack = []\n  var rootElement = (container && container.children[0]) || null\n  var lastNode = rootElement && toVNode(rootElement, [].map)\n  var globalState = copy(state)\n  var wiredActions = copy(actions)\n\n  scheduleRender(wireStateToActions([], globalState, wiredActions))\n\n  return wiredActions\n\n  function toVNode(element, map) {\n    return {\n      name: element.nodeName.toLowerCase(),\n      props: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3\n          ? element.nodeValue\n          : toVNode(element, map)\n      })\n    }\n  }\n\n  function render() {\n    renderLock = !renderLock\n\n    var next = view(globalState, wiredActions)\n    if (container && !renderLock) {\n      rootElement = patch(container, rootElement, lastNode, (lastNode = next))\n    }\n\n    while ((next = invokeLaterStack.pop())) next()\n  }\n\n  function scheduleRender() {\n    if (!renderLock) {\n      renderLock = !renderLock\n      setTimeout(render)\n    }\n  }\n\n  function copy(target, source) {\n    var obj = {}\n\n    for (var i in target) obj[i] = target[i]\n    for (var i in source) obj[i] = source[i]\n\n    return obj\n  }\n\n  function set(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1 ? set(path.slice(1), value, source[path[0]]) : value\n      return copy(source, target)\n    }\n    return value\n  }\n\n  function get(path, source) {\n    for (var i = 0; i < path.length; i++) {\n      source = source[path[i]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              if (typeof (data = action(data)) === \"function\") {\n                data = data(get(path, globalState), actions)\n              }\n\n              if (\n                data &&\n                data !== (state = get(path, globalState)) &&\n                !data.then // Promise\n              ) {\n                scheduleRender(\n                  (globalState = set(path, copy(state, data), globalState))\n                )\n              }\n\n              return data\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = state[key] || {}),\n            (actions[key] = copy(actions[key]))\n          )\n    }\n  }\n\n  function getKey(node) {\n    return node && node.props ? node.props.key : null\n  }\n\n  function setElementProp(element, name, value, isSVG, oldValue) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      for (var i in copy(oldValue, value)) {\n        element[name][i] = value == null || value[i] == null ? \"\" : value[i]\n      }\n    } else {\n      if (typeof value === \"function\" || (name in element && !isSVG)) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSVG) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSVG = isSVG || node.name === \"svg\")\n          ? document.createElementNS(\"http://www.w3.org/2000/svg\", node.name)\n          : document.createElement(node.name)\n\n    if (node.props) {\n      if (node.props.oncreate) {\n        invokeLaterStack.push(function() {\n          node.props.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(createElement(node.children[i], isSVG))\n      }\n\n      for (var name in node.props) {\n        setElementProp(element, name, node.props[name], isSVG)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldProps, props, isSVG) {\n    for (var name in copy(oldProps, props)) {\n      if (\n        props[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldProps[name])\n      ) {\n        setElementProp(element, name, props[name], isSVG, oldProps[name])\n      }\n    }\n\n    if (props.onupdate) {\n      invokeLaterStack.push(function() {\n        props.onupdate(element, oldProps)\n      })\n    }\n  }\n\n  function removeChildren(element, node, props) {\n    if ((props = node.props)) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (props.ondestroy) {\n        props.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node, cb) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    if (node.props && (cb = node.props.onremove)) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSVG, nextSibling) {\n    if (node === oldNode) {\n    } else if (oldNode == null) {\n      element = parent.insertBefore(createElement(node, isSVG), element)\n    } else if (node.name && node.name === oldNode.name) {\n      updateElement(\n        element,\n        oldNode.props,\n        node.props,\n        (isSVG = isSVG || node.name === \"svg\")\n      )\n\n      var oldElements = []\n      var oldKeyed = {}\n      var newKeyed = {}\n\n      for (var i = 0; i < oldNode.children.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldChild = oldNode.children[i]\n        var oldKey = getKey(oldChild)\n\n        if (null != oldKey) {\n          oldKeyed[oldKey] = [oldElements[i], oldChild]\n        }\n      }\n\n      var i = 0\n      var j = 0\n\n      while (j < node.children.length) {\n        var oldChild = oldNode.children[i]\n        var newChild = node.children[j]\n\n        var oldKey = getKey(oldChild)\n        var newKey = getKey(newChild)\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey == null) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChild, newChild, isSVG)\n            j++\n          }\n          i++\n        } else {\n          var recyledNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, recyledNode[0], recyledNode[1], newChild, isSVG)\n            i++\n          } else if (recyledNode[0]) {\n            patch(\n              element,\n              element.insertBefore(recyledNode[0], oldElements[i]),\n              recyledNode[1],\n              newChild,\n              isSVG\n            )\n          } else {\n            patch(element, oldElements[i], null, newChild, isSVG)\n          }\n\n          j++\n          newKeyed[newKey] = newChild\n        }\n      }\n\n      while (i < oldNode.children.length) {\n        var oldChild = oldNode.children[i]\n        if (getKey(oldChild) == null) {\n          removeElement(element, oldElements[i], oldChild)\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[oldKeyed[i][1].props.key]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    } else if (node.name === oldNode.name) {\n      element.nodeValue = node\n    } else {\n      element = parent.insertBefore(\n        createElement(node, isSVG),\n        (nextSibling = element)\n      )\n      removeElement(parent, nextSibling, oldNode)\n    }\n    return element\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oeXBlcmFwcC9zcmMvaW5kZXguanM/ZWUxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaChuYW1lLCBwcm9wcykge1xuICB2YXIgbm9kZVxuICB2YXIgcmVzdCA9IFtdXG4gIHZhciBjaGlsZHJlbiA9IFtdXG4gIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoXG5cbiAgd2hpbGUgKGxlbmd0aC0tID4gMikgcmVzdC5wdXNoKGFyZ3VtZW50c1tsZW5ndGhdKVxuXG4gIHdoaWxlIChyZXN0Lmxlbmd0aCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KChub2RlID0gcmVzdC5wb3AoKSkpKSB7XG4gICAgICBmb3IgKGxlbmd0aCA9IG5vZGUubGVuZ3RoOyBsZW5ndGgtLTsgKSB7XG4gICAgICAgIHJlc3QucHVzaChub2RlW2xlbmd0aF0pXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlICE9IG51bGwgJiYgbm9kZSAhPT0gdHJ1ZSAmJiBub2RlICE9PSBmYWxzZSkge1xuICAgICAgY2hpbGRyZW4ucHVzaChub2RlKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0eXBlb2YgbmFtZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgPyBuYW1lKHByb3BzIHx8IHt9LCBjaGlsZHJlbilcbiAgICA6IHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgcHJvcHM6IHByb3BzIHx8IHt9LFxuICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcChzdGF0ZSwgYWN0aW9ucywgdmlldywgY29udGFpbmVyKSB7XG4gIHZhciByZW5kZXJMb2NrXG4gIHZhciBpbnZva2VMYXRlclN0YWNrID0gW11cbiAgdmFyIHJvb3RFbGVtZW50ID0gKGNvbnRhaW5lciAmJiBjb250YWluZXIuY2hpbGRyZW5bMF0pIHx8IG51bGxcbiAgdmFyIGxhc3ROb2RlID0gcm9vdEVsZW1lbnQgJiYgdG9WTm9kZShyb290RWxlbWVudCwgW10ubWFwKVxuICB2YXIgZ2xvYmFsU3RhdGUgPSBjb3B5KHN0YXRlKVxuICB2YXIgd2lyZWRBY3Rpb25zID0gY29weShhY3Rpb25zKVxuXG4gIHNjaGVkdWxlUmVuZGVyKHdpcmVTdGF0ZVRvQWN0aW9ucyhbXSwgZ2xvYmFsU3RhdGUsIHdpcmVkQWN0aW9ucykpXG5cbiAgcmV0dXJuIHdpcmVkQWN0aW9uc1xuXG4gIGZ1bmN0aW9uIHRvVk5vZGUoZWxlbWVudCwgbWFwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgIHByb3BzOiB7fSxcbiAgICAgIGNoaWxkcmVuOiBtYXAuY2FsbChlbGVtZW50LmNoaWxkTm9kZXMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQubm9kZVR5cGUgPT09IDNcbiAgICAgICAgICA/IGVsZW1lbnQubm9kZVZhbHVlXG4gICAgICAgICAgOiB0b1ZOb2RlKGVsZW1lbnQsIG1hcClcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJlbmRlckxvY2sgPSAhcmVuZGVyTG9ja1xuXG4gICAgdmFyIG5leHQgPSB2aWV3KGdsb2JhbFN0YXRlLCB3aXJlZEFjdGlvbnMpXG4gICAgaWYgKGNvbnRhaW5lciAmJiAhcmVuZGVyTG9jaykge1xuICAgICAgcm9vdEVsZW1lbnQgPSBwYXRjaChjb250YWluZXIsIHJvb3RFbGVtZW50LCBsYXN0Tm9kZSwgKGxhc3ROb2RlID0gbmV4dCkpXG4gICAgfVxuXG4gICAgd2hpbGUgKChuZXh0ID0gaW52b2tlTGF0ZXJTdGFjay5wb3AoKSkpIG5leHQoKVxuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVSZW5kZXIoKSB7XG4gICAgaWYgKCFyZW5kZXJMb2NrKSB7XG4gICAgICByZW5kZXJMb2NrID0gIXJlbmRlckxvY2tcbiAgICAgIHNldFRpbWVvdXQocmVuZGVyKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvcHkodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICB2YXIgb2JqID0ge31cblxuICAgIGZvciAodmFyIGkgaW4gdGFyZ2V0KSBvYmpbaV0gPSB0YXJnZXRbaV1cbiAgICBmb3IgKHZhciBpIGluIHNvdXJjZSkgb2JqW2ldID0gc291cmNlW2ldXG5cbiAgICByZXR1cm4gb2JqXG4gIH1cblxuICBmdW5jdGlvbiBzZXQocGF0aCwgdmFsdWUsIHNvdXJjZSkge1xuICAgIHZhciB0YXJnZXQgPSB7fVxuICAgIGlmIChwYXRoLmxlbmd0aCkge1xuICAgICAgdGFyZ2V0W3BhdGhbMF1dID1cbiAgICAgICAgcGF0aC5sZW5ndGggPiAxID8gc2V0KHBhdGguc2xpY2UoMSksIHZhbHVlLCBzb3VyY2VbcGF0aFswXV0pIDogdmFsdWVcbiAgICAgIHJldHVybiBjb3B5KHNvdXJjZSwgdGFyZ2V0KVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldChwYXRoLCBzb3VyY2UpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNvdXJjZSA9IHNvdXJjZVtwYXRoW2ldXVxuICAgIH1cbiAgICByZXR1cm4gc291cmNlXG4gIH1cblxuICBmdW5jdGlvbiB3aXJlU3RhdGVUb0FjdGlvbnMocGF0aCwgc3RhdGUsIGFjdGlvbnMpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gYWN0aW9ucykge1xuICAgICAgdHlwZW9mIGFjdGlvbnNba2V5XSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gKGZ1bmN0aW9uKGtleSwgYWN0aW9uKSB7XG4gICAgICAgICAgICBhY3Rpb25zW2tleV0gPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgKGRhdGEgPSBhY3Rpb24oZGF0YSkpID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZGF0YShnZXQocGF0aCwgZ2xvYmFsU3RhdGUpLCBhY3Rpb25zKVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRhdGEgJiZcbiAgICAgICAgICAgICAgICBkYXRhICE9PSAoc3RhdGUgPSBnZXQocGF0aCwgZ2xvYmFsU3RhdGUpKSAmJlxuICAgICAgICAgICAgICAgICFkYXRhLnRoZW4gLy8gUHJvbWlzZVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZVJlbmRlcihcbiAgICAgICAgICAgICAgICAgIChnbG9iYWxTdGF0ZSA9IHNldChwYXRoLCBjb3B5KHN0YXRlLCBkYXRhKSwgZ2xvYmFsU3RhdGUpKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBkYXRhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkoa2V5LCBhY3Rpb25zW2tleV0pXG4gICAgICAgIDogd2lyZVN0YXRlVG9BY3Rpb25zKFxuICAgICAgICAgICAgcGF0aC5jb25jYXQoa2V5KSxcbiAgICAgICAgICAgIChzdGF0ZVtrZXldID0gc3RhdGVba2V5XSB8fCB7fSksXG4gICAgICAgICAgICAoYWN0aW9uc1trZXldID0gY29weShhY3Rpb25zW2tleV0pKVxuICAgICAgICAgIClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRLZXkobm9kZSkge1xuICAgIHJldHVybiBub2RlICYmIG5vZGUucHJvcHMgPyBub2RlLnByb3BzLmtleSA6IG51bGxcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEVsZW1lbnRQcm9wKGVsZW1lbnQsIG5hbWUsIHZhbHVlLCBpc1NWRywgb2xkVmFsdWUpIHtcbiAgICBpZiAobmFtZSA9PT0gXCJrZXlcIikge1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgICBmb3IgKHZhciBpIGluIGNvcHkob2xkVmFsdWUsIHZhbHVlKSkge1xuICAgICAgICBlbGVtZW50W25hbWVdW2ldID0gdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZVtpXSA9PSBudWxsID8gXCJcIiA6IHZhbHVlW2ldXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIiB8fCAobmFtZSBpbiBlbGVtZW50ICYmICFpc1NWRykpIHtcbiAgICAgICAgZWxlbWVudFtuYW1lXSA9IHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWVcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpXG4gICAgICB9XG5cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQobm9kZSwgaXNTVkcpIHtcbiAgICB2YXIgZWxlbWVudCA9XG4gICAgICB0eXBlb2Ygbm9kZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2Ygbm9kZSA9PT0gXCJudW1iZXJcIlxuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUpXG4gICAgICAgIDogKGlzU1ZHID0gaXNTVkcgfHwgbm9kZS5uYW1lID09PSBcInN2Z1wiKVxuICAgICAgICAgID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgbm9kZS5uYW1lKVxuICAgICAgICAgIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlLm5hbWUpXG5cbiAgICBpZiAobm9kZS5wcm9wcykge1xuICAgICAgaWYgKG5vZGUucHJvcHMub25jcmVhdGUpIHtcbiAgICAgICAgaW52b2tlTGF0ZXJTdGFjay5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5vZGUucHJvcHMub25jcmVhdGUoZWxlbWVudClcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudChub2RlLmNoaWxkcmVuW2ldLCBpc1NWRykpXG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIG5hbWUgaW4gbm9kZS5wcm9wcykge1xuICAgICAgICBzZXRFbGVtZW50UHJvcChlbGVtZW50LCBuYW1lLCBub2RlLnByb3BzW25hbWVdLCBpc1NWRylcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudFxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRWxlbWVudChlbGVtZW50LCBvbGRQcm9wcywgcHJvcHMsIGlzU1ZHKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBjb3B5KG9sZFByb3BzLCBwcm9wcykpIHtcbiAgICAgIGlmIChcbiAgICAgICAgcHJvcHNbbmFtZV0gIT09XG4gICAgICAgIChuYW1lID09PSBcInZhbHVlXCIgfHwgbmFtZSA9PT0gXCJjaGVja2VkXCJcbiAgICAgICAgICA/IGVsZW1lbnRbbmFtZV1cbiAgICAgICAgICA6IG9sZFByb3BzW25hbWVdKVxuICAgICAgKSB7XG4gICAgICAgIHNldEVsZW1lbnRQcm9wKGVsZW1lbnQsIG5hbWUsIHByb3BzW25hbWVdLCBpc1NWRywgb2xkUHJvcHNbbmFtZV0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm9udXBkYXRlKSB7XG4gICAgICBpbnZva2VMYXRlclN0YWNrLnB1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb3BzLm9udXBkYXRlKGVsZW1lbnQsIG9sZFByb3BzKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbihlbGVtZW50LCBub2RlLCBwcm9wcykge1xuICAgIGlmICgocHJvcHMgPSBub2RlLnByb3BzKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlbW92ZUNoaWxkcmVuKGVsZW1lbnQuY2hpbGROb2Rlc1tpXSwgbm9kZS5jaGlsZHJlbltpXSlcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLm9uZGVzdHJveSkge1xuICAgICAgICBwcm9wcy5vbmRlc3Ryb3koZWxlbWVudClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnRcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQocGFyZW50LCBlbGVtZW50LCBub2RlLCBjYikge1xuICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQocmVtb3ZlQ2hpbGRyZW4oZWxlbWVudCwgbm9kZSkpXG4gICAgfVxuXG4gICAgaWYgKG5vZGUucHJvcHMgJiYgKGNiID0gbm9kZS5wcm9wcy5vbnJlbW92ZSkpIHtcbiAgICAgIGNiKGVsZW1lbnQsIGRvbmUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGRvbmUoKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdGNoKHBhcmVudCwgZWxlbWVudCwgb2xkTm9kZSwgbm9kZSwgaXNTVkcsIG5leHRTaWJsaW5nKSB7XG4gICAgaWYgKG5vZGUgPT09IG9sZE5vZGUpIHtcbiAgICB9IGVsc2UgaWYgKG9sZE5vZGUgPT0gbnVsbCkge1xuICAgICAgZWxlbWVudCA9IHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlRWxlbWVudChub2RlLCBpc1NWRyksIGVsZW1lbnQpXG4gICAgfSBlbHNlIGlmIChub2RlLm5hbWUgJiYgbm9kZS5uYW1lID09PSBvbGROb2RlLm5hbWUpIHtcbiAgICAgIHVwZGF0ZUVsZW1lbnQoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIG9sZE5vZGUucHJvcHMsXG4gICAgICAgIG5vZGUucHJvcHMsXG4gICAgICAgIChpc1NWRyA9IGlzU1ZHIHx8IG5vZGUubmFtZSA9PT0gXCJzdmdcIilcbiAgICAgIClcblxuICAgICAgdmFyIG9sZEVsZW1lbnRzID0gW11cbiAgICAgIHZhciBvbGRLZXllZCA9IHt9XG4gICAgICB2YXIgbmV3S2V5ZWQgPSB7fVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZE5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgb2xkRWxlbWVudHNbaV0gPSBlbGVtZW50LmNoaWxkTm9kZXNbaV1cblxuICAgICAgICB2YXIgb2xkQ2hpbGQgPSBvbGROb2RlLmNoaWxkcmVuW2ldXG4gICAgICAgIHZhciBvbGRLZXkgPSBnZXRLZXkob2xkQ2hpbGQpXG5cbiAgICAgICAgaWYgKG51bGwgIT0gb2xkS2V5KSB7XG4gICAgICAgICAgb2xkS2V5ZWRbb2xkS2V5XSA9IFtvbGRFbGVtZW50c1tpXSwgb2xkQ2hpbGRdXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGkgPSAwXG4gICAgICB2YXIgaiA9IDBcblxuICAgICAgd2hpbGUgKGogPCBub2RlLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICB2YXIgb2xkQ2hpbGQgPSBvbGROb2RlLmNoaWxkcmVuW2ldXG4gICAgICAgIHZhciBuZXdDaGlsZCA9IG5vZGUuY2hpbGRyZW5bal1cblxuICAgICAgICB2YXIgb2xkS2V5ID0gZ2V0S2V5KG9sZENoaWxkKVxuICAgICAgICB2YXIgbmV3S2V5ID0gZ2V0S2V5KG5ld0NoaWxkKVxuXG4gICAgICAgIGlmIChuZXdLZXllZFtvbGRLZXldKSB7XG4gICAgICAgICAgaSsrXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdLZXkgPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChvbGRLZXkgPT0gbnVsbCkge1xuICAgICAgICAgICAgcGF0Y2goZWxlbWVudCwgb2xkRWxlbWVudHNbaV0sIG9sZENoaWxkLCBuZXdDaGlsZCwgaXNTVkcpXG4gICAgICAgICAgICBqKytcbiAgICAgICAgICB9XG4gICAgICAgICAgaSsrXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJlY3lsZWROb2RlID0gb2xkS2V5ZWRbbmV3S2V5XSB8fCBbXVxuXG4gICAgICAgICAgaWYgKG9sZEtleSA9PT0gbmV3S2V5KSB7XG4gICAgICAgICAgICBwYXRjaChlbGVtZW50LCByZWN5bGVkTm9kZVswXSwgcmVjeWxlZE5vZGVbMV0sIG5ld0NoaWxkLCBpc1NWRylcbiAgICAgICAgICAgIGkrK1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVjeWxlZE5vZGVbMF0pIHtcbiAgICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgICBlbGVtZW50Lmluc2VydEJlZm9yZShyZWN5bGVkTm9kZVswXSwgb2xkRWxlbWVudHNbaV0pLFxuICAgICAgICAgICAgICByZWN5bGVkTm9kZVsxXSxcbiAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgIGlzU1ZHXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhdGNoKGVsZW1lbnQsIG9sZEVsZW1lbnRzW2ldLCBudWxsLCBuZXdDaGlsZCwgaXNTVkcpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaisrXG4gICAgICAgICAgbmV3S2V5ZWRbbmV3S2V5XSA9IG5ld0NoaWxkXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgd2hpbGUgKGkgPCBvbGROb2RlLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICB2YXIgb2xkQ2hpbGQgPSBvbGROb2RlLmNoaWxkcmVuW2ldXG4gICAgICAgIGlmIChnZXRLZXkob2xkQ2hpbGQpID09IG51bGwpIHtcbiAgICAgICAgICByZW1vdmVFbGVtZW50KGVsZW1lbnQsIG9sZEVsZW1lbnRzW2ldLCBvbGRDaGlsZClcbiAgICAgICAgfVxuICAgICAgICBpKytcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSBpbiBvbGRLZXllZCkge1xuICAgICAgICBpZiAoIW5ld0tleWVkW29sZEtleWVkW2ldWzFdLnByb3BzLmtleV0pIHtcbiAgICAgICAgICByZW1vdmVFbGVtZW50KGVsZW1lbnQsIG9sZEtleWVkW2ldWzBdLCBvbGRLZXllZFtpXVsxXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm9kZS5uYW1lID09PSBvbGROb2RlLm5hbWUpIHtcbiAgICAgIGVsZW1lbnQubm9kZVZhbHVlID0gbm9kZVxuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50ID0gcGFyZW50Lmluc2VydEJlZm9yZShcbiAgICAgICAgY3JlYXRlRWxlbWVudChub2RlLCBpc1NWRyksXG4gICAgICAgIChuZXh0U2libGluZyA9IGVsZW1lbnQpXG4gICAgICApXG4gICAgICByZW1vdmVFbGVtZW50KHBhcmVudCwgbmV4dFNpYmxpbmcsIG9sZE5vZGUpXG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50XG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2h5cGVyYXBwL3NyYy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n");

/***/ })
/******/ ]);